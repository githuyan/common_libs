### 分布式

分布式锁和普通锁（单机锁）的区别？

参考：[(145条消息) 如何用Redis实现分布式锁_GeorgiaStar的博客-CSDN博客_redis做分布式锁](https://blog.csdn.net/fuzhongmin05/article/details/119251590)

```python
普通锁是基于内存的，在分布式服务，多进程服务中会出现消息不共用的情况，而想要实现分布式锁，必须借助一个外部系统，所有进程都去这个系统上申请加锁。分布式锁可以使用redis实现

# 分布式锁的安全性
安全性在于原子性，只有操作是原子性才能确保锁的安全性，确保安全性的方法包括：
1. redis 自身支持 ex nx 操作，将设置锁和设置过期时间捆绑为原子性操作。
2. 使用 Lua 脚本，一个 Lua 脚本的执行是原子性的，而且性能更优异
3. 使用 Redisson 利用看门狗自动延时机制避免锁过期导致的问题
```



#### 性能指标

**参考：**

- [一文搞懂高并发性能指标：QPS、TPS、RT、吞吐量](https://www.toutiao.com/article/6762822597005541891/?wid=1676947231699) 
- [【性能测试】二、TPS、QPS、RT和吞吐量这些都是什么？](https://developer.aliyun.com/article/1054690) 

##### QPS 

> Queries Per Second，意思是每秒查询率，也叫做hits per second(HPS)

每一个请求就是一个Q，包括对数据库的请求，对其他服务的请求。

##### TPS

> Transactions Per Second，意思是每秒事务数

一个请求从服务器收到至处理完成后响应，算做一个T，但在这一个T中可能会有很多的其他请求，这些算作Q。

##### RT

> Response-time, 意思是响应时间

执行一个请求从开始到最后收到响应数据所花费的总体时间,即从客户端发起请求到收到服务器响应结果的时间。
